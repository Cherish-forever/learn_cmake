cmake_minimum_required(VERSION 3.10)

set(var1 "ABC")
set(var2 "DEF")

macro(Moo arg arg2)
  message("ARGV0 = ${ARGV0}")
  message("ARGV1 = ${ARGV1}")
  message("arg = ${arg}")
  message("arg2 = ${arg2}")
  set(${arg} "abc")
  set(${arg2} "def")
  message("after set arg=${arg} arg2=${arg2}")
  set(${ARGV0} "cde")
  set(${ARGV1} "abc")
  message("ARGV0 = ${ARGV0}")
  message("ARGV1 = ${ARGV1}")
endmacro()

message("call macro")
Moo(${var1} ${var2})
message("macro test end var1=${var1} var2=${var2}")

function(Foo arg arg2)
  message("ARGV0 = ${ARGV0}")
  message("ARGV1 = ${ARGV1}")
  message("arg = ${arg}")
  message("arg2 = ${arg2}")
  set(${arg} "abc")
  set(${arg2} "def")
  message("after set arg=${arg} arg2=${arg2}")
  set(${ARGV0} "cde")
  set(${ARGV1} "abc")
  message("ARGV0 = ${ARGV0}")
  message("ARGV1 = ${ARGV1}")
endfunction()

message("call function")
Foo(${var1} ${var2})
message("function test end var1=${var1} var2=${var2}")

